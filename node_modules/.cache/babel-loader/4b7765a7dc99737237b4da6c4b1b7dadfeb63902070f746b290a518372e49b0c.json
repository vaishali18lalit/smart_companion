{"ast":null,"code":"import _objectSpread from\"/Users/vaishalilalit/Desktop/amazonq/smart-knowledge-companion/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{getContentSummary,getContentExplanation,updateProgress}from'../services/api';import RapidQuiz from'./RapidQuiz';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ContentFeed(_ref){let{domain,content,onContentUpdate,onProgressUpdate}=_ref;const[expandedContent,setExpandedContent]=useState({});const[loading,setLoading]=useState({});const[showRapidQuiz,setShowRapidQuiz]=useState(false);const handleSummary=async item=>{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{[item._id]:'summary'}));try{const data=await getContentSummary(domain,item._id);setExpandedContent(prev=>_objectSpread(_objectSpread({},prev),{},{[item._id]:_objectSpread(_objectSpread({},data),{},{type:'summary'})}));await updateProgress(item.title);onProgressUpdate();}catch(error){console.error('Error getting summary:',error);}finally{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{[item._id]:null}));}};const handleExplanation=async item=>{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{[item._id]:'explanation'}));try{const data=await getContentExplanation(domain,item._id);setExpandedContent(prev=>_objectSpread(_objectSpread({},prev),{},{[item._id]:_objectSpread(_objectSpread({},data),{},{type:'explanation'})}));await updateProgress(item.title);onProgressUpdate();}catch(error){console.error('Error getting explanation:',error);}finally{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{[item._id]:null}));}};const getDomainTitle=domain=>{const titles={ai:'ü§ñ AI Research & Insights',news:'üì∞ Latest Tech News',general:'üìö General Knowledge'};return titles[domain]||'Content';};const getDomainAction=domain=>{const actions={ai:{text:'üß† AI Challenge',desc:'Test your AI knowledge'},news:{text:'‚ö° Tech Quiz',desc:'Quick tech news quiz'},general:{text:'üéØ Rapid Fire',desc:'10 questions, 15 seconds each'}};return actions[domain]||{text:'Quiz',desc:'Test your knowledge'};};if(showRapidQuiz){return/*#__PURE__*/_jsx(RapidQuiz,{domain:domain,onClose:()=>setShowRapidQuiz(false),onScoreUpdate:onProgressUpdate});}if(!content||content.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"content-feed\",children:[/*#__PURE__*/_jsx(\"h2\",{children:getDomainTitle(domain)}),/*#__PURE__*/_jsxs(\"div\",{className:\"no-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No content available for this domain yet.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>onContentUpdate(domain),children:\"Refresh Content\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"content-feed\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"domain-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:getDomainTitle(domain)}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn quiz-challenge-btn\",onClick:()=>setShowRapidQuiz(true),children:[getDomainAction(domain).text,/*#__PURE__*/_jsx(\"small\",{children:getDomainAction(domain).desc})]})]}),content.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"content-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCCD \",item.source]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCC5 \",new Date(item.publishedAt).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content-text\",children:item.content}),expandedContent[item._id]&&/*#__PURE__*/_jsxs(\"div\",{className:\"expanded-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:expandedContent[item._id].type==='summary'?'üìù Summary':'üîç Detailed Explanation'}),/*#__PURE__*/_jsx(\"p\",{children:expandedContent[item._id].summary||expandedContent[item._id].explanation})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>handleSummary(item),disabled:loading[item._id]==='summary',children:loading[item._id]==='summary'?'Loading...':'üìù Quick Summary'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>handleExplanation(item),disabled:loading[item._id]==='explanation',children:loading[item._id]==='explanation'?'Loading...':'üîç Detailed Explanation'}),item.url&&/*#__PURE__*/_jsx(\"a\",{href:item.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"btn secondary\",children:\"\\uD83D\\uDD17 Read Full Article\"})]})]},item._id))]});}export default ContentFeed;","map":{"version":3,"names":["React","useState","getContentSummary","getContentExplanation","updateProgress","RapidQuiz","jsx","_jsx","jsxs","_jsxs","ContentFeed","_ref","domain","content","onContentUpdate","onProgressUpdate","expandedContent","setExpandedContent","loading","setLoading","showRapidQuiz","setShowRapidQuiz","handleSummary","item","prev","_objectSpread","_id","data","type","title","error","console","handleExplanation","getDomainTitle","titles","ai","news","general","getDomainAction","actions","text","desc","onClose","onScoreUpdate","length","className","children","onClick","map","source","Date","publishedAt","toLocaleDateString","summary","explanation","disabled","url","href","target","rel"],"sources":["/Users/vaishalilalit/Desktop/amazonq/smart-knowledge-companion/src/components/ContentFeed.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { getContentSummary, getContentExplanation, updateProgress } from '../services/api';\nimport RapidQuiz from './RapidQuiz';\n\nfunction ContentFeed({ domain, content, onContentUpdate, onProgressUpdate }) {\n  const [expandedContent, setExpandedContent] = useState({});\n  const [loading, setLoading] = useState({});\n  const [showRapidQuiz, setShowRapidQuiz] = useState(false);\n\n  const handleSummary = async (item) => {\n    setLoading(prev => ({ ...prev, [item._id]: 'summary' }));\n    try {\n      const data = await getContentSummary(domain, item._id);\n      setExpandedContent(prev => ({\n        ...prev,\n        [item._id]: { ...data, type: 'summary' }\n      }));\n      await updateProgress(item.title);\n      onProgressUpdate();\n    } catch (error) {\n      console.error('Error getting summary:', error);\n    } finally {\n      setLoading(prev => ({ ...prev, [item._id]: null }));\n    }\n  };\n\n  const handleExplanation = async (item) => {\n    setLoading(prev => ({ ...prev, [item._id]: 'explanation' }));\n    try {\n      const data = await getContentExplanation(domain, item._id);\n      setExpandedContent(prev => ({\n        ...prev,\n        [item._id]: { ...data, type: 'explanation' }\n      }));\n      await updateProgress(item.title);\n      onProgressUpdate();\n    } catch (error) {\n      console.error('Error getting explanation:', error);\n    } finally {\n      setLoading(prev => ({ ...prev, [item._id]: null }));\n    }\n  };\n\n  const getDomainTitle = (domain) => {\n    const titles = {\n      ai: 'ü§ñ AI Research & Insights',\n      news: 'üì∞ Latest Tech News',\n      general: 'üìö General Knowledge'\n    };\n    return titles[domain] || 'Content';\n  };\n\n  const getDomainAction = (domain) => {\n    const actions = {\n      ai: { text: 'üß† AI Challenge', desc: 'Test your AI knowledge' },\n      news: { text: '‚ö° Tech Quiz', desc: 'Quick tech news quiz' },\n      general: { text: 'üéØ Rapid Fire', desc: '10 questions, 15 seconds each' }\n    };\n    return actions[domain] || { text: 'Quiz', desc: 'Test your knowledge' };\n  };\n\n  if (showRapidQuiz) {\n    return (\n      <RapidQuiz \n        domain={domain}\n        onClose={() => setShowRapidQuiz(false)}\n        onScoreUpdate={onProgressUpdate}\n      />\n    );\n  }\n\n  if (!content || content.length === 0) {\n    return (\n      <div className=\"content-feed\">\n        <h2>{getDomainTitle(domain)}</h2>\n        <div className=\"no-content\">\n          <p>No content available for this domain yet.</p>\n          <button className=\"btn\" onClick={() => onContentUpdate(domain)}>\n            Refresh Content\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"content-feed\">\n      <div className=\"domain-header\">\n        <h2>{getDomainTitle(domain)}</h2>\n        <button \n          className=\"btn quiz-challenge-btn\"\n          onClick={() => setShowRapidQuiz(true)}\n        >\n          {getDomainAction(domain).text}\n          <small>{getDomainAction(domain).desc}</small>\n        </button>\n      </div>\n      \n      {content.map(item => (\n        <div key={item._id} className=\"content-item\">\n          <h3>{item.title}</h3>\n          <div className=\"content-meta\">\n            <span>üìç {item.source}</span>\n            <span>üìÖ {new Date(item.publishedAt).toLocaleDateString()}</span>\n          </div>\n          <div className=\"content-text\">{item.content}</div>\n          \n          {expandedContent[item._id] && (\n            <div className=\"expanded-content\">\n              <h4>\n                {expandedContent[item._id].type === 'summary' ? 'üìù Summary' : 'üîç Detailed Explanation'}\n              </h4>\n              <p>{expandedContent[item._id].summary || expandedContent[item._id].explanation}</p>\n            </div>\n          )}\n          \n          <div className=\"content-actions\">\n            <button \n              className=\"btn\" \n              onClick={() => handleSummary(item)}\n              disabled={loading[item._id] === 'summary'}\n            >\n              {loading[item._id] === 'summary' ? 'Loading...' : 'üìù Quick Summary'}\n            </button>\n            <button \n              className=\"btn\" \n              onClick={() => handleExplanation(item)}\n              disabled={loading[item._id] === 'explanation'}\n            >\n              {loading[item._id] === 'explanation' ? 'Loading...' : 'üîç Detailed Explanation'}\n            </button>\n            {item.url && (\n              <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn secondary\">\n                üîó Read Full Article\n              </a>\n            )}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default ContentFeed;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}