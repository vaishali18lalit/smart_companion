{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getMicroBreakContent,generateQuiz,updateProgress}from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function MicroBreakPopup(_ref){let{onClose,onComplete}=_ref;const[content,setContent]=useState(null);const[quiz,setQuiz]=useState(null);const[showQuiz,setShowQuiz]=useState(false);const[selectedAnswer,setSelectedAnswer]=useState('');useEffect(()=>{loadMicroBreakContent();},[]);const loadMicroBreakContent=async()=>{try{const data=await getMicroBreakContent();setContent(data);}catch(error){console.error('Error loading micro-break content:',error);}};const handleStartQuiz=async()=>{try{const quizData=await generateQuiz(content.title);setQuiz(quizData.quiz);setShowQuiz(true);}catch(error){console.error('Error generating quiz:',error);}};const handleQuizSubmit=async()=>{// Simple scoring - in real app, would parse quiz format properly\nconst score=Math.random()>0.5?1:0;// Placeholder scoring\nawait updateProgress(content.title,score);onComplete();onClose();};if(!content)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:onClose}),/*#__PURE__*/_jsxs(\"div\",{className:\"micro-break-popup\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83E\\uDDE0 Micro Learning Break\"}),!showQuiz?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{children:content.title}),/*#__PURE__*/_jsx(\"p\",{children:content.summary||content.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-meta\",children:[\"Source: \",content.source,\" \\u2022 \",content.domain]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleStartQuiz,children:\"Take Quick Quiz\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:onClose,style:{marginLeft:'10px'},children:\"Skip for Now\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Quick Quiz\"}),/*#__PURE__*/_jsx(\"div\",{style:{whiteSpace:'pre-line',marginBottom:'15px'},children:quiz}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:selectedAnswer,onChange:e=>setSelectedAnswer(e.target.value),placeholder:\"Enter your answer (A, B, C, or D)\",maxLength:\"1\",style:{width:'50px',textAlign:'center'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleQuizSubmit,children:\"Submit Answer\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:onClose,style:{marginLeft:'10px'},children:\"Close\"})]})]})]})]});}export default MicroBreakPopup;","map":{"version":3,"names":["React","useState","useEffect","getMicroBreakContent","generateQuiz","updateProgress","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MicroBreakPopup","_ref","onClose","onComplete","content","setContent","quiz","setQuiz","showQuiz","setShowQuiz","selectedAnswer","setSelectedAnswer","loadMicroBreakContent","data","error","console","handleStartQuiz","quizData","title","handleQuizSubmit","score","Math","random","children","className","onClick","summary","source","domain","style","marginTop","marginLeft","whiteSpace","marginBottom","type","value","onChange","e","target","placeholder","maxLength","width","textAlign"],"sources":["/Users/vaishalilalit/Desktop/amazonq/smart-knowledge-companion/src/components/MicroBreakPopup.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getMicroBreakContent, generateQuiz, updateProgress } from '../services/api';\n\nfunction MicroBreakPopup({ onClose, onComplete }) {\n  const [content, setContent] = useState(null);\n  const [quiz, setQuiz] = useState(null);\n  const [showQuiz, setShowQuiz] = useState(false);\n  const [selectedAnswer, setSelectedAnswer] = useState('');\n\n  useEffect(() => {\n    loadMicroBreakContent();\n  }, []);\n\n  const loadMicroBreakContent = async () => {\n    try {\n      const data = await getMicroBreakContent();\n      setContent(data);\n    } catch (error) {\n      console.error('Error loading micro-break content:', error);\n    }\n  };\n\n  const handleStartQuiz = async () => {\n    try {\n      const quizData = await generateQuiz(content.title);\n      setQuiz(quizData.quiz);\n      setShowQuiz(true);\n    } catch (error) {\n      console.error('Error generating quiz:', error);\n    }\n  };\n\n  const handleQuizSubmit = async () => {\n    // Simple scoring - in real app, would parse quiz format properly\n    const score = Math.random() > 0.5 ? 1 : 0; // Placeholder scoring\n    await updateProgress(content.title, score);\n    onComplete();\n    onClose();\n  };\n\n  if (!content) return null;\n\n  return (\n    <>\n      <div className=\"popup-overlay\" onClick={onClose} />\n      <div className=\"micro-break-popup\">\n        <h3>ðŸ§  Micro Learning Break</h3>\n        \n        {!showQuiz ? (\n          <>\n            <h4>{content.title}</h4>\n            <p>{content.summary || content.content}</p>\n            <div className=\"content-meta\">\n              Source: {content.source} â€¢ {content.domain}\n            </div>\n            \n            <div style={{ marginTop: '20px' }}>\n              <button className=\"btn\" onClick={handleStartQuiz}>\n                Take Quick Quiz\n              </button>\n              <button className=\"btn\" onClick={onClose} style={{ marginLeft: '10px' }}>\n                Skip for Now\n              </button>\n            </div>\n          </>\n        ) : (\n          <>\n            <h4>Quick Quiz</h4>\n            <div style={{ whiteSpace: 'pre-line', marginBottom: '15px' }}>\n              {quiz}\n            </div>\n            \n            <div>\n              <input\n                type=\"text\"\n                value={selectedAnswer}\n                onChange={(e) => setSelectedAnswer(e.target.value)}\n                placeholder=\"Enter your answer (A, B, C, or D)\"\n                maxLength=\"1\"\n                style={{ width: '50px', textAlign: 'center' }}\n              />\n            </div>\n            \n            <div style={{ marginTop: '15px' }}>\n              <button className=\"btn\" onClick={handleQuizSubmit}>\n                Submit Answer\n              </button>\n              <button className=\"btn\" onClick={onClose} style={{ marginLeft: '10px' }}>\n                Close\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default MicroBreakPopup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}